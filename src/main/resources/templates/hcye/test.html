<!DOCTYPE html>
<html lang="en">
<html xmlns:th="http://www.thymeleaf.org">
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:shiro="http://www.pollix.at/thymeleaf/shiro">
<link rel="stylesheet" href="../../static/layui/css/layui.css">
<link rel="stylesheet" href="../../static/layui_ext/dtree/dtree.css">
<link rel="stylesheet" href="../../static/layui_ext/dtree/font/dtreefont.css">
<script type="text/javascript" src="../../layui/layui.js"></script>
<script type="text/javascript" src=" ../../layui/jquery-3.5.1.min.js" ></script>
<script type="text/javascript">


    layui.extend({
        dtree: '../layui_ext/dtree/dtree'   // {/}的意思即代表采用自有路径，即不跟随 base 路径
    }).use(['dtree','layer','jquery'], function(){
        var dtree = layui.dtree, layer = layui.layer, $ = layui.jquery;

        // 初始化树
        var DemoTree = dtree.render({
            elem: "#demoTree",
            data: demoTree, // 使用data加载
            url: "../json/case/demoJson.json" // 使用url加载（可与data加载同时存在）
        });

        // 绑定节点点击
        dtree.on("node('demoTree')" ,function(obj){
            layer.msg(JSON.stringify(obj.param));
        });
    });

    /*    $(function () {

                $(document).ready(function(){

                    $.post("../getTree", {a:'hello'},    //把name数据提交到ajaxRes action内，
                function(data) {
                    layui.config({
                        base: '../layui_ext/dtree/'   // 使用base路径容易定位
                    }).use(['dtree','layer','jquery'], function(){
                        var dtree = layui.dtree, layer = layui.layer, $ = layui.jquery;

                        // 初始化树
                        var DemoTree = dtree.render({
                            elem: "#demoTree",
                            data: data // 使用data加载
                        });

                        // 绑定节点点击
                        dtree.on("node('demoTree')" ,function(obj){
                            layer.msg(JSON.stringify(obj.param));
                        });
                    });
                    var data =data
                },);
                });

        })*/
    /*
        $(function () {
            $("#btn").click(function () {
                $.post("../getTree", {a:'hello'},    //把name数据提交到ajaxRes action内，
                    function(data) {
                        layui.config({
                            base: '../layui_ext/dtree/'   // 使用base路径容易定位
                        }).use(['dtree','layer','jquery'], function(){
                            var dtree = layui.dtree, layer = layui.layer, $ = layui.jquery;

                            // 初始化树
                            var DemoTree = dtree.render({
                                elem: "#demoTree",
                                data: data // 使用data加载
                            });

                            // 绑定节点点击
                            dtree.on("node('demoTree')" ,function(obj){
                                layer.msg(JSON.stringify(obj.param));
                            });
                        });
                        var data =data
                    },);
            });
        })*/

    $(function () {
        $("#add").click(function(){
            $(document).ready(function(){location.href="/asm/add"})
        });
    })
    $(function () {
        $("#delete").click(function(){
            $(document).ready(function(){location.href="/asm/delete"})
        });
    })
    $(function () {
        $("#update").click(
            function(){
                $(document).ready(function(){location.href="/asm/update"})
            });
    })


</script>
<html>
<head>
    <meta charset="UTF-8">
    <title>测试页</title>
</head>
<body>
<div><!--创建一个div层，指定class为“dtree”，此时该层就引用了dtree的样式 -->

    <div style="height: 350px;overflow: auto;" id="toolbarDiv">
        <ul id="demoTree" class="dtree" data-id="0"></ul>
    </div>

    <shiro.hasPermission name="asm:update">---------</shiro.hasPermission>
    <button type="button" shiro:hasPermission="asm:add" id="add" class="layui-btn" >添加</button>

    <button type="button"  shiro:hasPermission="asm:delete" id="delete"  class="layui-btn"  >删除</button>

    <button type="button" shiro:hasPermission="asm:update" id="update" class="layui-btn" >更新</button>


</div>
</body>
</html>