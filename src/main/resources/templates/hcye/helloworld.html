<!DOCTYPE html>
<html lang="en">

<link rel="stylesheet" href="../layui/css/layui.css">
<link rel="stylesheet" href="../layui_ext/dtree/dtree.css">
<link rel="stylesheet" href="../layui_ext/dtree/font/dtreefont.css">
<script type="text/javascript" src="../layui/layui.js"></script>
<script type="text/javascript" src="../layui/jquery-3.5.1.min.js" ></script>
<script type="text/javascript">

    $(function () {

            $(document).ready(function(){

                $.post("../getTree", {a:'hello'},    //把name数据提交到ajaxRes action内，
            function(data) {
                layui.config({
                    base: '../layui_ext/dtree/'   // 使用base路径容易定位
                }).use(['dtree','layer','jquery'], function(){
                    var dtree = layui.dtree, layer = layui.layer, $ = layui.jquery;

                    // 初始化树
                    var DemoTree = dtree.render({
                        elem: "#demoTree",
                        data: data // 使用data加载
                    });

                    // 绑定节点点击
                    dtree.on("node('demoTree')" ,function(obj){
                        layer.msg(JSON.stringify(obj.param));
                    });
                });
                var data =data
            },);
            });

    })

    $(function () {
        $("#btn").click(function () {
            /*$.post("../getTree", {a:'hello'},    //把name数据提交到ajaxRes action内，
                function(data) {
                    layui.config({
                        base: '../layui_ext/dtree/'   // 使用base路径容易定位
                    }).use(['dtree','layer','jquery'], function(){
                        var dtree = layui.dtree, layer = layui.layer, $ = layui.jquery;

                        // 初始化树
                        var DemoTree = dtree.render({
                            elem: "#demoTree",
                            data: data // 使用data加载
                        });

                        // 绑定节点点击
                        dtree.on("node('demoTree')" ,function(obj){
                            layer.msg(JSON.stringify(obj.param));
                        });
                    });
                    var data =data
                },);*/
        });
    })



</script>
<html>
<head>
    <meta charset="UTF-8">
    <title>Tree</title>
</head>
<body>
<div><!--创建一个div层，指定class为“dtree”，此时该层就引用了dtree的样式 -->
    <button  class="layui-btn" id="btn">测试</button>
    <ul id="demoTree" class="dtree" data-id="-1" data-value="0"></ul>
</div>
</body>
</html>